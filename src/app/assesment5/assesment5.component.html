<app-header></app-header>

<div class="assessment-page">
  <div class="assessment-container">
    <!-- Progress Bar -->
      <div class="progress-bar-container">
        <div class="progress-bar" *ngIf="progress > 0">
          <div class="progress">
            <div 
              *ngFor="let step of getProgressSegments()" 
              class="progress-segment" 
              [style.background]="step.completed ? '#009970' : '#ddd'">
            </div>
          </div>
        </div>
        <p class="progress-text">{{ currentStep }} of 5</p>
      </div>

      <!-- Question Section -->
      <h2 class="question">What is Jerry Seinfeld’s address in Seinfeld?</h2>

      <!-- Address Form using Reactive Forms -->
      <form [formGroup]="addressForm" class="row">
        <div class="form-container col-md-8 col-12">
          <label class="form-label">Address</label> <br>

          <label class="sub-label">Address 1</label>
          <input type="text" class="form-input" placeholder="Address 1" formControlName="address1" />
          <p class="error-message" *ngIf="addressForm.controls['address1'].invalid && addressForm.controls['address1'].touched">
            Only letters and numbers are allowed.
          </p>

          <label class="sub-label">Address 2</label>
          <input type="text" class="form-input" placeholder="Address 2" formControlName="address2" />
          <p class="error-message" *ngIf="addressForm.controls['address2'].invalid && addressForm.controls['address2'].touched">
            Only letters and numbers are allowed.
          </p>

          <div class="city-state-zip row">
            <div class="col-sm-7">
              <label class="sub-label">City</label>
              <input type="text" class="form-input small-input minwidth" placeholder="City" formControlName="city" />
              <p class="error-message" *ngIf="addressForm.controls['city'].invalid && addressForm.controls['city'].touched">
                Only letters are allowed.
              </p>
            </div>
            <div class="col-sm-2">
              <label class="sub-label">State</label>
              <input type="text" class="form-input small-input" placeholder="State" formControlName="state" />
              <p class="error-message" *ngIf="addressForm.controls['state'].invalid && addressForm.controls['state'].touched">
                Only letters are allowed.
              </p>
            </div>
            <div class="col-sm-3">
              <label class="sub-label">Zip Code</label>
              <input type="text" class="form-input small-input" placeholder="Zip code" formControlName="zip" />
              <p class="error-message" *ngIf="addressForm.controls['zip'].invalid && addressForm.controls['zip'].touched">
                Only numbers are allowed.
              </p>
            </div>
          </div>
        </div>
      </form>

      <!-- Navigation Buttons -->
      <div class="buttons">
        <a class="prev-btn" (click)="goBack()">← Previous Question</a>
        <button class="next-btn" [disabled]="addressForm.invalid" (click)="saveAndNext()">Next</button>
      </div>
    </div>

  </div>
  
<app-footer></app-footer>
